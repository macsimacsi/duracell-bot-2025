<%= render 'shared/admin_index_table',
  # Config file: app/helpers/admins_helper.rb
  title: 'Participaciones',
  records: @participations,
  pagy: @pagy,
  q: @q,
  new_path: new_participation_path,
  export_path: participations_path(format: :xlsx),
  record_path: record_path_for(:participations),
  columns: columns_for(:participations)
%>

<script>
    function showPopup(e) {
        e.preventDefault();
        const popupWidth = screen.width / 2;
        const popupHeight = screen.height;
        const popupOptions = `width=${popupWidth},height=${popupHeight},left=${0},top=${0}`;
        window.open($(e.currentTarget).attr("href"), "", popupOptions);
    }


    $(document).ready(function () {
        $(document).on('click', '.show-popup', showPopup);
        const search = $('#gd-search-container');
        $("#gd-search-close").click(function () {
            search.hide(350);
        });
        $("#gd-do-search").click(function (event) {
            search.show(350);
            event.preventDefault();
        });
    });

    <% if params[:q] && params[:q][:searchable_content_cont] %>
    $('#q_searchable_content_cont').val('<%= params[:q][:searchable_content_cont] %>');
    <% end %>
</script>
